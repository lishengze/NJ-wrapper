/////////////////////////////////////////////////////////////////////////
///@system 交易引擎系统
///@company 上海期货信息技术有限公司
///@file system.h
///@brief定义与网络通讯有关的系统函数，以及CByte、CWord、CInt这三个类
///@history 
///20020214	王肇东		创建该文件
/////////////////////////////////////////////////////////////////////////

#ifndef SYSTEM_H
#define SYSTEM_H

///定义各种不同的字节序

/////////////////////////////////////////////////////////////////////////
///_BIG_ENDIAN_表示高位在前，低位在后
/////////////////////////////////////////////////////////////////////////
//#define _BIG_ENDIAN_ 1

/////////////////////////////////////////////////////////////////////////
///_SMALL_ENDIAN_表示低位在前，高为在后
/////////////////////////////////////////////////////////////////////////
//#define _SMALL_ENDIAN_ 0

/////////////////////////////////////////////////////////////////////////
///_UNKNOWN_ENDIAN_表示不明字节序
/////////////////////////////////////////////////////////////////////////
//#define _UNKNOWN_ENDIAN_ -1

///检查系统是否符合网络通讯的基本要求
///这里的检查包括各种类型的长度检查、结构压缩的检查和字节序的检查
///@return	1表示符合要求，0表示不符要求
int checkSystem(void);

///获取本系统的字节序，使用动态检查的方式
///@return	是_BIG_ENDIAN_、_SMALL_ENDIAN_或者_UNKNOWN_ENDIAN_
int getEndian(void);

/////////////////////////////////////////////////////////////////////////
///CByte表示一个单字节的网络传输数据对象
///@author	王肇东
///@version	1.0,20020214
///	任何表示网络报文的数据结构中，如果要表示单字节的整数，必须使用本类
/////////////////////////////////////////////////////////////////////////
class CByte
{
private:
	///表示这个单字节整数
	unsigned char value;
public:
	///设置本对象的值
	///@param	v	设置的值
	void setValue(int v);
	
	///获取本对象的值
	///@return	本对象的当前值
	int getValue(void);
};

/////////////////////////////////////////////////////////////////////////
///CWord表示一个双字节的网络传输数据对象
///@author	王肇东
///@version	1.0,20020214
///	任何表示网络报文的数据结构中，如果要表示双字节的整数，必须使用本类
/////////////////////////////////////////////////////////////////////////
class CWord
{
private:
	///表示这个双字节整数
	unsigned short value;
public:
	///设置本对象的值
	///@param	v	设置的值
	void setValue(int v);
	
	///获取本对象的值
	///@return	本对象的当前值
	int getValue(void);
};

/////////////////////////////////////////////////////////////////////////
///CInt表示一个四字节的网络传输数据对象
///@author	王肇东
///@version	1.0,20020214
///	任何表示网络报文的数据结构中，如果要表示四字节的整数，必须使用本类
/////////////////////////////////////////////////////////////////////////
class CInt
{
private:
	///表示这个四字节整数
	unsigned int value;
public:
	///设置本对象的值
	///@param	v	设置的值
	void setValue(int v);
	
	///获取本对象的值
	///@return	本对象的当前值
	int getValue(void);
};

#endif
